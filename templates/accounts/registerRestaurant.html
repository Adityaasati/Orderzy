{%extends 'base.html' %}
{% load static %}
{% block content %}
<style>
    body {
        background: #f5f5f5;
    }

    .rounded-lg {
        border-radius: 1rem;
    }
    .nav-item {
        list-style-type: none; 
       
    }
    .nav-pills .nav-link {
        color: #555;
    }

    .nav-pills .nav-link.active {
        color: #fff;
    }

    .welcome-message {
        padding: 20px;
        margin-bottom: 1.5rem;
        background-color: #f0f8ff; 
        border-radius: 10px; 
        border: 2px solid #add8e6; /* Light Blue border */
    }
    
    .welcome-message h4 {
        font-size: 1.75rem; /* Slightly larger font size */
        color: #4682b4; /* Steel Blue color for text */
        margin: 0; /* Remove default margin */
        font-weight: 700; /* Bold text */
        font-family: 'Arial', sans-serif; /* Font change */
    }
    
    
</style>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
    integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" />

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        $(".nav-pills a").click(function () {
            $(this).tab("show");
        });
    });
</script>
</head>

<body>
    <div class="container py-5">
        <div class="row">
            <div class="col-lg-7 mx-auto">
                <div class="bg-white rounded-lg shadow-sm p-5">
                    <div class="welcome-message text-center mb-4">
                        <h4>Partner Wit Us!</h4>
                    </div>

                    <ul role="tablist" class="nav bg-light nav-pills rounded-pill nav-fill mb-3">
                        <li class="nav-item">
                            <a href="{% url 'registerRestaurant' %}" class="nav-link active rounded-pill">
                                
                                <i class="fa-solid fa-user"></i>

                                Sign-Up
                            </a>
                        </li>
                        <li class="nav-item">
                            <a  href="{% url 'login' %}" class="nav-link rounded-pill">
                                <i class="fa-regular fa-user"></i>

                                Login
                            </a>
                        </li>

                    </ul>
                    <div class="tab-content">
                        <div id="nav-tab-card" class="tab-pane fade show active">
                            <form action="{% url 'registerRestaurant' %}" role="form" method="post" enctype="multipart/form-data">
                                {%csrf_token%}
                                <div class="form-group">
                                    <div class="field-holder">
                                        <label>First name</label>{{form.first_name}}
                                    </div>

                                </div>
                                <div class="form-group">
                                    <div class="field-holder">
                                        <label>Last name</label>{{form.last_name}}
                                    </div>

                                </div>
                                <div class="form-group">
                                    <div class="field-holder">
                                        <label>Restaurant name</label>{{r_form.restaurant_name}}
                                    </div>

                                </div>
                                <div class="form-group">
                                    <div class="field-holder">
                                        <label>Username</label>{{form.username}}
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="field-holder">
                                        <label>Password</label>
                                        {{form.password}}
                                    </div>
                                </div>
                                <ul class="errorlist">
                                    {% for field in form%}
                                    {% if field.errors %}
                                    {%for error in field.errors%}
                                    <li style="color: red;">{{error}}</li>
                                    {%endfor%}
                                    {%endif%}
                                    {% endfor %}
                                </ul>
                                <button type="submit"
                                    class="subscribe btn btn-primary btn-block rounded-pill shadow-sm">
                                    Submit
                                </button>
                                <div class="row">
                                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                                        {% include 'includes/alerts.html' %}
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        $(document).ready(function () {
            $('form').submit(function (event) {
                var username = $('#id_username').val().trim();
        
                // Regular expression for validating email
                var emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                // Regular expression for validating phone number (e.g., 10 digits)
                var phonePattern = /^\d{10}$/;
                
                if (!username) {
                    event.preventDefault();
                    alert('Please provide a username.');
                } else if (emailPattern.test(username)) {
                    // Valid email
                    // No action needed, proceed with form submission
                } else if (phonePattern.test(username)) {
                    // Valid phone number
                    // No action needed, proceed with form submission
                } else {
                    event.preventDefault();
                    alert('Please provide a valid email address or phone number.');
                }
            });
        
            // Tooltip initialization
            $(function () {
                $('[data-toggle="tooltip"]').tooltip();
            });
        });
        </script>
        
    {% endblock content %}